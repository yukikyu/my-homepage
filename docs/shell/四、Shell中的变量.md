# 四、Shell中的变量

## 1.系统变量

```bash
$HOME、$PWD、$SHELL、$USER
```

### 1.1.案例实操

1.1.1.查看系统变量的值

```bash
$ echo $HOME
/home
```

1.1.2.显示当前Shell中所有的变量：set

```bash
$ set
BASH=/bin/bash
BASH_ALLASES=()
BASH_ARGC=()
BASH_ARGV=()
```

## 2.自定变量

### 2.1.基本语法

2.1.1定义变量：变量=值

```bash
A=1
```

2.1.2.撤销变量：unset 变量

```bash
unset A
```

2.1.3.声明静态变量：readonly变量，不能unset

2.1.4变量定义规则

1. 变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写；
2. 等号两侧不能有空格；
3. 在bash中，变量默认类型都是字符串类型，无法直接进行数值运算；
4. 变量名的值如果有空格，需要使用双引号或单引号括起来。

### 2.2.案例实操

1. 定义变量A
    
    ```bash
    $ A=5
    $ echo $A
    ```
    
2. 给变量A重新赋值
    
    ```bash
    $ A=8
    $ echo $A
    ```
    
3. 撤销变量A
    
    ```bash
    $ unset A
    $ echo $A
    ```
    
4. 声明静态的变量B=2，不能unset
    
    ```bash
    $ readonly B=2
    ```
    

## 3.特殊变量：$n

### 3.1.基本语法

$n（功能描述：n为数字，$0代表该脚本名称，$1-$9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10}）

### 3.2.案例实操

1. 输出该脚本文件名称，输入参数1和输入参数2的值
    
    ```bash
    $ touch parameter.sh
    $ vim parameter.sh
    ~ echo $1 $2 $3
    
    $ chmod 777 parameter.sh
    $ ./parameter.sh 11 22 33
    11 22 33
    ```
    

## 4.特殊变量：$#

### 4.1.基本语法

$#（功能描述：获取所有输入参数个数，常用于循环）。

### 4.2.案例实操

```bash
$ vim parameter.sh
~ echo $#
$ bash parameter.sh
0
$ bash parameter.sh 11 22 33
3
```

## 5.特殊变量：$*、$@

### 5.1.基本语法

$*（功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看作一个整体）

$@（功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待）

### 5.2.实操案例

- 打印输入的所有参数
    
    ```bash
    $ vim parameter.sh
    ~ echo $*
      echo $@
    $ bash parameter.sh 11 22 33
    11 22 33
    11 22 33
    ```
    

## 6.特殊变量：$?

### 6.1.基本语法

$?（功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体事哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）

### 6.2.实操案例

- 判断helloworld.sh脚本是否正确执行
    
    ```bash
    $ ./helloworld.sh
    hello world
    
    $ echo $?
    0
    ```